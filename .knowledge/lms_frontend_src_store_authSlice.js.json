{"is_source_file": true, "format": "JavaScript", "description": "This file defines Redux state management for authentication using @reduxjs/toolkit. It includes actions (thunks) for initializing a session, signing in, signing up, and signing out, along with a slice that manages auth state and a listener for auth state changes via Supabase.", "external_files": ["../lib/supabaseClient"], "external_methods": ["getSupabaseClient", "supabase.auth.getSession", "supabase.auth.signInWithPassword", "supabase.auth.signUp", "supabase.auth.signOut", "supabase.auth.onAuthStateChange"], "published": ["setAuthState", "registerAuthListener"], "classes": [], "methods": [{"name": "resolveRole", "description": "Determines the user's role based on user metadata or defaults to 'student' or 'guest'."}, {"name": "initSession", "description": "Thunk that initializes the user session by fetching current session info from Supabase."}, {"name": "signIn", "description": "Thunk that performs user sign-in using email and password via Supabase."}, {"name": "signUp", "description": "Thunk for registering a new user with email and password, redirect URL configured via environment variables."}, {"name": "signOut", "description": "Thunk that signs out the current user."}], "calls": ["getSupabaseClient", "supabase.auth.getSession", "supabase.auth.signInWithPassword", "supabase.auth.signUp", "supabase.auth.signOut", "supabase.auth.onAuthStateChange"], "search-terms": ["authSlice", "createAsyncThunk", "supabase", "authentication", "auth state management", "Redux Toolkit", "supabaseClient"], "state": 2, "file_id": 16, "knowledge_revision": 37, "git_revision": "", "ctags": [{"_type": "tag", "name": "authSlice", "path": "/home/kavia/workspace/code-generation/edusphere-learning-platform-263906-263915/lms_frontend/src/store/authSlice.js", "pattern": "/^const authSlice = createSlice({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "initSession", "path": "/home/kavia/workspace/code-generation/edusphere-learning-platform-263906-263915/lms_frontend/src/store/authSlice.js", "pattern": "/^export const initSession = createAsyncThunk(\"auth\\/initSession\", async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "registerAuthListener", "path": "/home/kavia/workspace/code-generation/edusphere-learning-platform-263906-263915/lms_frontend/src/store/authSlice.js", "pattern": "/^export const registerAuthListener = (dispatch) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resolveRole", "path": "/home/kavia/workspace/code-generation/edusphere-learning-platform-263906-263915/lms_frontend/src/store/authSlice.js", "pattern": "/^const resolveRole = (user) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/edusphere-learning-platform-263906-263915/lms_frontend/src/store/authSlice.js", "pattern": "/^  const role =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "signIn", "path": "/home/kavia/workspace/code-generation/edusphere-learning-platform-263906-263915/lms_frontend/src/store/authSlice.js", "pattern": "/^export const signIn = createAsyncThunk($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "signOut", "path": "/home/kavia/workspace/code-generation/edusphere-learning-platform-263906-263915/lms_frontend/src/store/authSlice.js", "pattern": "/^export const signOut = createAsyncThunk(\"auth\\/signOut\", async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "signUp", "path": "/home/kavia/workspace/code-generation/edusphere-learning-platform-263906-263915/lms_frontend/src/store/authSlice.js", "pattern": "/^export const signUp = createAsyncThunk($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/edusphere-learning-platform-263906-263915/lms_frontend/src/store/authSlice.js", "pattern": "/^  const supabase = getSupabaseClient();$/", "language": "JavaScript", "kind": "constant"}], "hash": "aa1fc9a3638f3cc16a3c02349a642898", "format-version": 4, "code-base-name": "lms_frontend", "filename": "lms_frontend/src/store/authSlice.js", "revision_history": [{"37": ""}]}